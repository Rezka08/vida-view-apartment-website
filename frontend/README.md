# Vida View Frontend - React + Vite

Frontend aplikasi Vida View Apartment menggunakan React 18 dengan Vite sebagai build tool.

## üöÄ Tech Stack

- **React 18** - UI Library
- **Vite** - Build tool & dev server
- **React Router v6** - Routing
- **Tailwind CSS** - Styling
- **Axios** - HTTP client
- **Zustand** - State management
- **React Query** - Server state management
- **React Hook Form** - Form handling
- **React Hot Toast** - Notifications
- **Lucide React** - Icons

## üì¶ Installation

### 1. Install Dependencies

```bash
npm install
```

### 2. Environment Setup

Copy `.env.example` to `.env`:

```bash
cp .env.example .env
```

Edit `.env` file:
```env
VITE_API_URL=http://localhost:5001/api
VITE_UPLOAD_URL=http://localhost:5001/uploads
```

### 3. Run Development Server

```bash
npm run dev
```

Application will run on `http://localhost:3000`

### 4. Build for Production

```bash
npm run build
```

Built files will be in `dist/` directory.

## üìÅ Project Structure

```
src/
‚îú‚îÄ‚îÄ main.jsx              # Entry point
‚îú‚îÄ‚îÄ App.jsx               # Main app component with routes
‚îú‚îÄ‚îÄ index.css             # Global styles
‚îÇ
‚îú‚îÄ‚îÄ api/                  # API layer
‚îÇ   ‚îú‚îÄ‚îÄ axios.js          # Axios instance with interceptors
‚îÇ   ‚îú‚îÄ‚îÄ auth.js           # Auth API calls
‚îÇ   ‚îú‚îÄ‚îÄ apartments.js     # Apartment API calls
‚îÇ   ‚îú‚îÄ‚îÄ bookings.js       # Booking API calls
‚îÇ   ‚îú‚îÄ‚îÄ payments.js       # Payment API calls
‚îÇ   ‚îî‚îÄ‚îÄ users.js          # User API calls
‚îÇ
‚îú‚îÄ‚îÄ stores/               # State management (Zustand)
‚îÇ   ‚îú‚îÄ‚îÄ authStore.js      # Authentication state
‚îÇ   ‚îú‚îÄ‚îÄ userStore.js      # User state
‚îÇ   ‚îî‚îÄ‚îÄ notificationStore.js  # Notification state
‚îÇ
‚îú‚îÄ‚îÄ routes/               # Route configuration
‚îÇ   ‚îú‚îÄ‚îÄ ProtectedRoute.jsx    # Auth guard
‚îÇ   ‚îî‚îÄ‚îÄ RoleRoute.jsx         # Role-based guard
‚îÇ
‚îú‚îÄ‚îÄ layouts/              # Layout components
‚îÇ   ‚îú‚îÄ‚îÄ MainLayout.jsx        # Main layout (public pages)
‚îÇ   ‚îú‚îÄ‚îÄ DashboardLayout.jsx   # Dashboard layout
‚îÇ   ‚îú‚îÄ‚îÄ Navbar.jsx            # Navigation bar
‚îÇ   ‚îî‚îÄ‚îÄ Footer.jsx            # Footer
‚îÇ
‚îú‚îÄ‚îÄ pages/                # Page components
‚îÇ   ‚îú‚îÄ‚îÄ Home.jsx              # Landing page
‚îÇ   ‚îú‚îÄ‚îÄ Login.jsx             # Login page
‚îÇ   ‚îú‚îÄ‚îÄ Register.jsx          # Register page
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ apartments/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ApartmentList.jsx     # Browse apartments
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ApartmentDetail.jsx   # Apartment details
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ FavoriteList.jsx      # Favorites
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ tenant/               # Tenant pages
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TenantDashboard.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MyBookings.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MyPayments.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MyDocuments.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TenantProfile.jsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ owner/                # Owner pages
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OwnerDashboard.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MyUnits.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UnitBookings.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ FinancialReport.jsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ admin/                # Admin pages
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminDashboard.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UserManagement.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BookingManagement.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PaymentVerification.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PromotionManagement.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Reports.jsx
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ booking/              # Booking flow
‚îÇ       ‚îú‚îÄ‚îÄ BookingForm.jsx
‚îÇ       ‚îú‚îÄ‚îÄ BookingPayment.jsx
‚îÇ       ‚îî‚îÄ‚îÄ BookingSuccess.jsx
‚îÇ
‚îú‚îÄ‚îÄ components/           # Reusable components
‚îÇ   ‚îú‚îÄ‚îÄ common/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Input.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Card.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Modal.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Loading.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Pagination.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Badge.jsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ apartment/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ApartmentCard.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ApartmentFilters.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ImageGallery.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ FacilityList.jsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ booking/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BookingCard.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BookingSummary.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PaymentMethod.jsx
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ dashboard/
‚îÇ       ‚îú‚îÄ‚îÄ StatsCard.jsx
‚îÇ       ‚îú‚îÄ‚îÄ Chart.jsx
‚îÇ       ‚îî‚îÄ‚îÄ RecentActivity.jsx
‚îÇ
‚îú‚îÄ‚îÄ hooks/                # Custom hooks
‚îÇ   ‚îú‚îÄ‚îÄ useAuth.js
‚îÇ   ‚îú‚îÄ‚îÄ useApartments.js
‚îÇ   ‚îú‚îÄ‚îÄ useBookings.js
‚îÇ   ‚îî‚îÄ‚îÄ useNotifications.js
‚îÇ
‚îî‚îÄ‚îÄ utils/                # Utility functions
    ‚îú‚îÄ‚îÄ constants.js
    ‚îú‚îÄ‚îÄ helpers.js
    ‚îú‚îÄ‚îÄ formatters.js
    ‚îî‚îÄ‚îÄ validators.js
```

## üîê Authentication Flow

1. User logs in via `/login`
2. JWT tokens stored in localStorage
3. Axios interceptor adds token to requests
4. Auto-refresh token when expired
5. Route guards protect authenticated pages
6. Role-based access control

## üéØ Key Features

### Public Pages
- ‚úÖ Landing page with featured apartments
- ‚úÖ Browse and search apartments
- ‚úÖ View apartment details
- ‚úÖ Login/Register

### Tenant Features
- ‚úÖ Personal dashboard
- ‚úÖ Browse and favorite apartments
- ‚úÖ Create bookings
- ‚úÖ Manage payments
- ‚úÖ Upload documents
- ‚úÖ Write reviews
- ‚úÖ Profile management

### Owner Features
- ‚úÖ Owner dashboard
- ‚úÖ Manage apartments/units
- ‚úÖ View and approve bookings
- ‚úÖ Financial reports
- ‚úÖ Payment management

### Admin Features
- ‚úÖ Admin dashboard with analytics
- ‚úÖ User management (CRUD)
- ‚úÖ Booking management
- ‚úÖ Payment verification
- ‚úÖ Promotion management
- ‚úÖ Generate reports

## üé® Styling

Using Tailwind CSS with custom configuration:
- Primary color: `#6B1F7B` (Purple)
- Secondary color: `#1E1B4B` (Navy)
- Custom utility classes in `index.css`
- Responsive design mobile-first

### Custom Classes
```css
.btn              - Base button
.btn-primary      - Primary button
.btn-secondary    - Secondary button
.btn-outline      - Outline button
.card             - Card container
.input            - Form input
.badge            - Badge/tag
.spinner          - Loading spinner
```

## üì° API Integration

### Base URL
```
http://localhost:5001/api
```

### Axios Instance
Auto-configured with:
- Authorization header injection
- Token refresh on 401
- Global error handling
- Toast notifications

### Example API Call
```jsx
import axios from '@/api/axios'

const fetchApartments = async () => {
  const response = await axios.get('/apartments')
  return response.data
}
```

## üîÑ State Management

### Auth Store (Zustand)
```jsx
import { useAuthStore } from '@/stores/authStore'

const { user, isAuthenticated, login, logout } = useAuthStore()
```

### React Query
```jsx
import { useQuery } from '@tanstack/react-query'

const { data, isLoading } = useQuery({
  queryKey: ['apartments'],
  queryFn: fetchApartments
})
```

## üõ£Ô∏è Routing

### Public Routes
- `/` - Home
- `/login` - Login
- `/register` - Register
- `/apartments` - Browse apartments
- `/apartments/:id` - Apartment details

### Protected Routes (Tenant)
- `/dashboard` - Tenant dashboard
- `/my-bookings` - My bookings
- `/my-payments` - My payments
- `/favorites` - Favorite apartments
- `/booking/:id` - Create booking

### Protected Routes (Owner)
- `/owner/dashboard` - Owner dashboard
- `/owner/units` - Manage units
- `/owner/bookings` - Unit bookings
- `/owner/financial` - Financial reports

### Protected Routes (Admin)
- `/admin/dashboard` - Admin dashboard
- `/admin/users` - User management
- `/admin/bookings` - Booking management
- `/admin/payments` - Payment verification
- `/admin/promotions` - Promotions
- `/admin/reports` - Reports

## üöß TODO - Components to Create

### Priority 1 (Core Functionality)
1. **Layouts**
   - `MainLayout.jsx` - Public pages layout
   - `DashboardLayout.jsx` - Dashboard layout with sidebar
   - `Navbar.jsx` - Navigation bar
   - `Footer.jsx` - Footer component

2. **Pages - Public**
   - `Home.jsx` - Landing page with hero & featured apartments
   - `Login.jsx` - Login form
   - `Register.jsx` - Registration form
   - `ApartmentList.jsx` - Browse apartments with filters
   - `ApartmentDetail.jsx` - Detailed apartment view

3. **Pages - Tenant**
   - `TenantDashboard.jsx` - Tenant dashboard
   - `MyBookings.jsx` - List of bookings
   - `BookingForm.jsx` - Create booking
   - `BookingPayment.jsx` - Payment page

### Priority 2 (Additional Features)
4. **Pages - Owner**
   - `OwnerDashboard.jsx` - Owner dashboard
   - `MyUnits.jsx` - Manage apartments
   - `UnitBookings.jsx` - View bookings

5. **Pages - Admin**
   - `AdminDashboard.jsx` - Admin dashboard with stats
   - `UserManagement.jsx` - Manage users
   - `BookingManagement.jsx` - Manage bookings

6. **Common Components**
   - `Button.jsx` - Reusable button
   - `Input.jsx` - Form input
   - `Card.jsx` - Card container
   - `Modal.jsx` - Modal dialog
   - `Loading.jsx` - Loading spinner
   - `Pagination.jsx` - Pagination component

### Priority 3 (Enhancement)
7. **Specialized Components**
   - `ApartmentCard.jsx` - Apartment card display
   - `ApartmentFilters.jsx` - Search filters
   - `ImageGallery.jsx` - Image gallery
   - `BookingCard.jsx` - Booking display
   - `StatsCard.jsx` - Dashboard statistics card

8. **API Services**
   - `api/apartments.js` - Apartment API calls
   - `api/bookings.js` - Booking API calls
   - `api/payments.js` - Payment API calls
   - `api/admin.js` - Admin API calls

9. **Utilities**
   - `utils/formatters.js` - Format currency, dates
   - `utils/validators.js` - Form validations
   - `utils/helpers.js` - Helper functions
   - `utils/constants.js` - App constants

## üéØ Development Guide

### Creating a New Page
1. Create component in `src/pages/`
2. Add route in `App.jsx`
3. Add to navigation if needed
4. Connect to API if needed

### Creating a New Component
1. Create in appropriate `src/components/` subdirectory
2. Export as default
3. Use Tailwind for styling
4. Make reusable with props

### Making API Calls
```jsx
import axios from '@/api/axios'
import { useQuery, useMutation } from '@tanstack/react-query'

// Query (GET)
const { data, isLoading } = useQuery({
  queryKey: ['apartments'],
  queryFn: () => axios.get('/apartments').then(res => res.data)
})

// Mutation (POST/PUT/DELETE)
const mutation = useMutation({
  mutationFn: (data) => axios.post('/apartments', data),
  onSuccess: () => {
    toast.success('Success!')
  }
})
```

### Form Handling
```jsx
import { useForm } from 'react-hook-form'

const { register, handleSubmit, formState: { errors } } = useForm()

const onSubmit = (data) => {
  // Handle form submission
}

<form onSubmit={handleSubmit(onSubmit)}>
  <input {...register('email', { required: true })} />
  {errors.email && <span>This field is required</span>}
</form>
```

## üêõ Troubleshooting

### Port Already in Use
```bash
# Kill process on port 3000
npx kill-port 3000
# Or use different port
npm run dev -- --port 3001
```

### Cannot Connect to Backend
- Ensure backend is running on port 5001
- Check VITE_API_URL in .env
- Verify CORS is enabled in backend

### Token Expired
- Tokens auto-refresh via axios interceptor
- If refresh fails, user is logged out automatically

## üìö Resources

- [React Documentation](https://react.dev)
- [Vite Documentation](https://vitejs.dev)
- [Tailwind CSS](https://tailwindcss.com)
- [React Router](https://reactrouter.com)
- [React Query](https://tanstack.com/query)
- [Zustand](https://github.com/pmndrs/zustand)

## ü§ù Contributing

1. Create feature branch
2. Make changes
3. Test thoroughly
4. Submit pull request

## üìù License

Educational project for Proyek Perangkat Lunak course.